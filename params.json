{"name":"Validupload","tagline":"Utilisation de validationEngine et de plupload pour rendre obligatoire les uploads","body":"# validUpload\r\n\r\n## Description\r\nvalidUpload est basé sur plupload et validationEngine et twitter bootsrap.\r\nCe dernier est fait pour faciliter l'utilisation et la réutilisation des deux javascript.\r\n\r\n\r\n* `validationEngine` pour la gestion des erreurs\r\n* `plupload` pour la gestion des uploads\r\n* `twitter bootsrap` pour la gestion de la barre de progression\r\n* Validation à l'aide de validationEngine\r\n* Affichage des erreurs plupload dans les éléments de validation de validationEngine\r\n* Instaciantion automatique ou non du template\r\n* Multi instances\r\n* Upload multiple\r\n* Supression dans la queue d'upload\r\n* Upload simple\r\n* Uniformise les instantiations\r\n\r\n## Demo\r\n\r\n[http://www.kezho.com/application/data/demo/validupload](http://www.kezho.com/application/data/demo/validupload)\r\n\r\n![Exemple](http://www.kezho.com/application/data/demo/validupload/images/exemple.png)\r\n\r\n\r\n## Installation\r\n\r\n### Bower\r\n\r\n```sh\r\n    bower install\r\n```\r\n\r\n#### Dépendances\r\n\r\n```json\r\n\r\n    \"jquery\": \"~1.10.2\",\r\n    \"validationEngine\": \"~2.6.4\",\r\n    \"plupload\": \"~2.0.0\",\r\n    \"bootstrap\": \"~3.0.0\"\r\n```\r\n\r\n\r\n\r\n## Utilisation\r\n\r\n\r\n### Exemple d'utilisation de base\r\n\r\n![Simple](http://www.kezho.com/application/data/demo/validupload/images/simple.png)\r\n\r\n\r\n```html\r\n    <fieldset>\r\n         <label>Single upload</label>\r\n         <div class=\"uploader_conteneur\"></div>\r\n     </fieldset>\r\n```\r\n\r\n```js\r\n         jQuery(document).ready(function () {\r\n             jQuery('.uploader_conteneur').validUpload({\r\n                 filters: [\r\n                     {title: \"Image files\", extensions: \"jpg,gif,png\"},\r\n                     {title: \"Zip files\", extensions: \"zip\"}\r\n                 ]\r\n             });\r\n         });\r\n```\r\n\r\n\r\n### Exemple d'utilisation d'upload multiple\r\n\r\n![Multiple](http://www.kezho.com/application/data/demo/validupload/images/multiple.png)\r\n\r\n\r\n```html\r\n    <fieldset>\r\n        <label>Upload multiple</label>\r\n        <div class=\"uploader_multiple\"></div>\r\n    </fieldset>\r\n```\r\n\r\n```js\r\n         jQuery('.uploader_multiple').validUpload({\r\n             dataUploader: {\r\n                 runtimes: 'html5,flash,html4',\r\n                 url: 'components/plupload/examples/upload.php',\r\n                 flash_swf_url: 'components/plupload/js/Moxie.swf',\r\n                 chunk_size: '1mb',\r\n                 multi_selection: true,\r\n                 unique_names: true\r\n             }\r\n         });\r\n```\r\n\r\n\r\n### Exemple d'initialisation de contenu\r\n\r\n\r\n#### Upload simple\r\n\r\n```html\r\n    <fieldset>\r\n        <label>Upload simple</label>\r\n        <div class=\"uploader_conteneur_defaut\"></div>\r\n    </fieldset>\r\n```\r\n\r\n```js\r\n         jQuery('.uploader_conteneur_defaut').validUpload({\r\n             default_value:'test.jpg'\r\n         });\r\n```\r\n\r\n#### Upload multiple\r\n\r\n```html\r\n    <fieldset>\r\n        <label>Upload multiple</label>\r\n        <div class=\"uploader_multiple_default\"></div>\r\n    </fieldset>\r\n```\r\n\r\n```js\r\n         jQuery('.uploader_multiple_default').validUpload({\r\n              dataUploader: {\r\n                  runtimes: 'html5,flash,html4',\r\n                  url: 'components/plupload/examples/upload.php',\r\n                  flash_swf_url: 'components/plupload/js/Moxie.swf',\r\n                  chunk_size: '1mb',\r\n                  multi_selection: true,\r\n                  unique_names: true\r\n              },\r\n              default_value:'test_1.jpg,test_2.png,test_3.tiff'\r\n          });\r\n```\r\n\r\n\r\n### Events\r\n\r\n\r\nEvent | Param | Description\r\n----- | ----- | -----------\r\n`onFilesAdded` | Uploader (up),  information sur les fichiers (file) | Appelé à chaque fois qu'une personne ajoute un fichier.\r\n`onUploadProgress` | Uploader (up),  information sur le fichier (file) | Appelé à chaque progression de l'uplaod de fichier.\r\n`onUploadInit` | Uploader (up), paramètre d'instanciation du composant d'upload | Appelé une fois que le composant est initialisé.\r\n`onFileUploaded` | Uploader (up), fichier conerné (file), et les informations sur le retour de l'upload (requête) | Appelé une fois que le fichier est uploadé correctement.\r\n`onUploadError` | Uploader (up) et l'erreur (err) | Appelé une fois qu'une erreurs est lancé par le composant plupload..\r\n`onInit` | Instance de l'objet (this) | Appelé une fois que l'objet est fini d'être instantié.\r\n`onInitTemplate` | Instance de l'objet (this) | Appelé une fois que le template est injecté dans son conteneur.\r\n`onInitDisplay` | Instance de l'objet (this) | Appelé une fois que les éléments sont masqués ou affichés (remove,finished...) en fonction du contenue de l'input.\r\n`onInitEvent` | Appelé une fois que les évnèments sont initialisés.\r\n\r\n\r\n\r\n#### Exemple d'implémentation d'évènement\r\n\r\n```html\r\n    <form class=\"form-inline\" role=\"form\">\r\n        <fieldset>\r\n            <label>Event upload</label>\r\n\r\n            <div class=\"uploader_event\"></div>\r\n        </fieldset>\r\n        <hr/>\r\n        <pre class=\"console pre-scrollable\">\r\n\r\n        </pre>\r\n    </form>\r\n```\r\n\r\n```js\r\n    jQuery('.uploader_event').validUpload({\r\n        onFilesAdded: function (up, file) {\r\n            log(' ');\r\n            log('---------------------------');\r\n            log('START onFilesAdded');\r\n            plupload.each(file, function (files) {\r\n                log('File : ' + files.name);\r\n            });\r\n            log('END onFilesAdded');\r\n            log('---------------------------');\r\n\r\n        },\r\n        onUploadProgress: function (up, file) {\r\n            log(' ');\r\n            log('---------------------------');\r\n            log('START onUploadProgress');\r\n            log('File : ' + file.name + \" ======> \" + file.percent + \" %\");\r\n            log('END onUploadProgress');\r\n            log('---------------------------');\r\n\r\n        },\r\n        onUploadInit: function (up, params) {\r\n            log(' ');\r\n            log('---------------------------');\r\n            log('START onUploadInit');\r\n            log('Runtime : ' + params.runtime);\r\n            log('END onUploadInit');\r\n            log('---------------------------');\r\n\r\n        },\r\n        onFileUploaded: function (up, file, info) {\r\n            log(' ');\r\n            log('---------------------------');\r\n            log('START onFileUploaded');\r\n            log('File : ' + file.name);\r\n            log('END onFileUploaded');\r\n            log('---------------------------');\r\n\r\n        },\r\n        onUploadError: function (up, err) {\r\n            log(' ');\r\n            log('---------------------------');\r\n            log('START onFileUploaded');\r\n            log('Error : ' + err);\r\n            log('END onFileUploaded');\r\n            log('---------------------------');\r\n        },\r\n\r\n        onInit: function (obj) {\r\n            log(' ');\r\n            log('---------------------------');\r\n            log('START onInit');\r\n            log('END onInit');\r\n            log('---------------------------');\r\n        },\r\n        onInitTemplate: function (obj) {\r\n            log(' ');\r\n            log('---------------------------');\r\n            log('START onInitTemplate');\r\n            log('END onInitTemplate');\r\n            log('---------------------------');\r\n        },\r\n        onInitData: function (obj) {\r\n            log(' ');\r\n            log('---------------------------');\r\n            log('START onInitData');\r\n            log('END onInitData');\r\n            log('---------------------------');\r\n        },\r\n        onInitDisplay: function (obj) {\r\n            log(' ');\r\n            log('---------------------------');\r\n            log('START onInitDisplay');\r\n            log('END onInitDisplay');\r\n            log('---------------------------');\r\n        },\r\n        onInitEvent: function (obj) {\r\n            log(' ');\r\n            log('---------------------------');\r\n            log('START onInitEvent');\r\n            log('END onInitEvent');\r\n            log('---------------------------');\r\n        }\r\n    });\r\n```\r\n\r\n\r\n#### Exemple d'utilisation avec une file d'image\r\n\r\n![File](http://www.kezho.com/application/data/demo/validupload/images/file.png)\r\n\r\n\r\n\r\n```html\r\n     <form class=\"form-inline\" role=\"form\">\r\n        <fieldset>\r\n            <label>Upload multiple</label>\r\n\r\n            <div class=\"uploader_multiple_file\"></div>\r\n        </fieldset>\r\n        <hr/>\r\n    </form>\r\n```\r\n\r\n```js\r\n    jQuery('.uploader_multiple_file').validUpload({\r\n        dataUploader: {\r\n            runtimes: 'html5,flash,html4',\r\n            url: 'components/plupload/examples/upload.php',\r\n            flash_swf_url: 'components/plupload/js/Moxie.swf',\r\n            chunk_size: '1mb',\r\n            multi_selection: true,\r\n            unique_names: true,\r\n            resize: {width: 320, height: 240, quality: 90},\r\n            filters: [\r\n                {title: \"Images files\", extensions: \"jpg,jepg,tiff,gif,png,ico\"}\r\n            ]\r\n        },\r\n        default_value: 'image1.jpg,image2.jpg',\r\n        onFileUploaded: function (up, file, info) {\r\n            if (typeof(file.target_name) != 'undefined') {\r\n                var tpl = '<img src=\"http://mon_url/' + file.target_name + '\" alt=\"\" />';\r\n                var $elt = jQuery('#' + file.id).children(\"div:nth-child(2)\");\r\n                $elt.prepend(tpl);\r\n            }\r\n        },\r\n        onAfterAddOneItem: function (file) {\r\n            if (typeof(file.target_name) != 'undefined') {\r\n                var tpl = '<img src=\"http://mon_url/' + file.target_name + '\" alt=\"\" />';\r\n                var $elt = jQuery('#' + file.id).children(\"div:nth-child(2)\");\r\n                $elt.prepend(tpl);\r\n            }\r\n        }\r\n    });\r\n```\r\n\r\nLicense\r\n-------\r\nMIT: http://kezho.mit-license.org/\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}